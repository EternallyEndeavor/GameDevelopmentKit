
//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

using Luban;

namespace ET
{
public partial class DTUnitConfig
{
    private readonly Tables _tables;

    public DTUnitConfig(Tables tables)
    {
        _tables = tables;
        _dataMap = new System.Collections.Generic.Dictionary<int, DRUnitConfig>();
        PostConstructor();
        PostInit();
    }

    private readonly System.Collections.Generic.Dictionary<int, DRUnitConfig> _dataMap;
    public System.Collections.Generic.List<int> KeyList { private set; get; }
    public DRUnitConfig Get(int key) => TryGetValue(key, out var v) ? v : null;
    public DRUnitConfig this[int key] => TryGetValue(key, out var v) ? v : null;

    // private bool InternalTryGetValue(int key, out DRUnitConfig value);
    private bool TryGetValue(int key, out DRUnitConfig value)
    {
        if(_dataMap.TryGetValue(key, out value))
        {
            return true;
        }
        if(InternalTryGetValue(key, out value))
        {
            _dataMap.Add(key, value);
            value.Init(_tables);
            return true;
        }
        value = default;
        return false;
    }


    partial void PostConstructor();
    partial void PostInit();
}
}
